(function(){"use strict";var e={2556:function(e,a,t){var l=t(9242),n=t(3396);function d(e,a,t,l,d,o){const i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(i)}var o=(0,n.aZ)({async created(){if(!localStorage.getItem("token"))return this.$router.push("/auth")}}),i=t(89);const c=(0,i.Z)(o,[["render",d]]);var s=c,r=t(678);const u={class:"home"},m={class:"home__view"};function _(e,a,t,l,d,o){const i=(0,n.up)("VHeader"),c=(0,n.up)("VNav"),s=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(i),(0,n._)("div",u,[(0,n.Wm)(c,{class:"home__nav"}),(0,n._)("main",m,[(0,n.Wm)(s)])])],64)}var p=(0,n.aZ)({name:"HomeView",async created(){const e=await this.$store.dispatch("getClient");e&&await this.$store.dispatch("getClientBalance")}});const h=(0,i.Z)(p,[["render",_],["__scopeId","data-v-f67e3104"]]);var v=h;const b=(0,n.Uk)("Sign in");function f(e,a,t,d,o,i){const c=(0,n.up)("VInput"),s=(0,n.up)("VButton");return(0,n.wg)(),(0,n.iD)("form",{class:"auth",onSubmit:a[2]||(a[2]=(0,l.iM)(((...a)=>e.onSubmit&&e.onSubmit(...a)),["prevent"]))},[(0,n.Wm)(c,{label:"API KEY",modelValue:e.api_key,"onUpdate:modelValue":a[0]||(a[0]=a=>e.api_key=a),required:""},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Client ID",modelValue:e.client_id,"onUpdate:modelValue":a[1]||(a[1]=a=>e.client_id=a),required:""},null,8,["modelValue"]),(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[b])),_:1})],32)}var g=(0,n.aZ)({data:()=>({api_key:"",client_id:""}),methods:{async onSubmit(){const e=await this.$store.dispatch("login",{api_key:this.api_key,client_id:this.client_id});e&&this.$router.push("/")}},mounted(){this.api_key="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2NTU4ODYxODQsInN1YiI6ImVhMzM3NWU0LTZlMmQtNGEwMi1iMDE3LTczMjgzZmVkMGE4MSJ9.tx8P-qLvsD-AXZ1nEO_CkYlwQDGfeUkBCgZ24UpX_Bo",this.client_id="ea3375e4-6e2d-4a02-b017-73283fed0a81"}});const w=(0,i.Z)(g,[["render",f],["__scopeId","data-v-7f19c42f"]]);var C=w,y=t(7139);const k=e=>((0,n.dD)("data-v-995e817e"),e=e(),(0,n.Cn)(),e),V={class:"main"},D={class:"main__content"},x={class:"main__content__item"},U=k((()=>(0,n._)("span",null,"Currency",-1))),I={class:"main__content__item"},S=k((()=>(0,n._)("span",null,"Available Amount",-1))),W={class:"main__content__item"},Z=k((()=>(0,n._)("span",null,"Total Amount",-1))),z={class:"main__content__item"},$=k((()=>(0,n._)("span",null,"Reserved Amount",-1)));function B(e,a,t,l,d,o){return(0,n.wg)(),(0,n.iD)("div",V,[(0,n._)("h1",null,(0,y.zw)(e.$route.meta.label),1),(0,n._)("div",D,[(0,n._)("div",x,[U,(0,n._)("span",null,(0,y.zw)(e.getClientBalance?.currency),1)]),(0,n._)("div",I,[S,(0,n._)("span",null,(0,y.zw)(e.getClientBalance?.available_amount),1)]),(0,n._)("div",W,[Z,(0,n._)("span",null,(0,y.zw)(e.getClientBalance?.total_amount),1)]),(0,n._)("div",z,[$,(0,n._)("span",null,(0,y.zw)(e.getClientBalance?.reserved_amount),1)])])])}var L=t(65),E=(0,n.aZ)({computed:{...(0,L.Se)(["getClientBalance"])}});const T=(0,i.Z)(E,[["render",B],["__scopeId","data-v-995e817e"]]);var A=T;const N=e=>((0,n.dD)("data-v-568a369b"),e=e(),(0,n.Cn)(),e),M={class:"profile"},O={class:"profile__content"},q={class:"profile__content__item"},j=N((()=>(0,n._)("span",null,"Status",-1))),H={class:"profile__content__item"},P=N((()=>(0,n._)("span",null,"Name",-1))),Y={class:"profile__content__item"},R=N((()=>(0,n._)("span",null,"Email",-1))),F={class:"profile__content__item"},K=N((()=>(0,n._)("span",null,"Phone",-1)));function G(e,a,t,l,d,o){return(0,n.wg)(),(0,n.iD)("div",M,[(0,n._)("h1",null,(0,y.zw)(e.$route.meta.label),1),(0,n._)("div",O,[(0,n._)("div",q,[j,(0,n._)("div",null,[(0,n._)("span",{class:(0,y.C_)(["status",{active:e.getClient.is_active}])},(0,y.zw)(e.getClient.is_active?"Active":"Inactive"),3)])]),(0,n._)("div",H,[P,(0,n._)("span",null,(0,y.zw)(e.getClient.name),1)]),(0,n._)("div",Y,[R,(0,n._)("span",null,(0,y.zw)(e.getClient.primary_contact_email),1)]),(0,n._)("div",F,[K,(0,n._)("span",null,(0,y.zw)(e.getClient.phone),1)])])])}var J=(0,n.aZ)({name:"ProfileView",computed:{...(0,L.Se)(["getClient"])}});const Q=(0,i.Z)(J,[["render",G],["__scopeId","data-v-568a369b"]]);var X=Q;const ee={class:"cards"},ae={class:"cards__content"};function te(e,a,t,l,d,o){const i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",ee,[(0,n._)("h1",null,(0,y.zw)(e.$route.meta.label),1),(0,n._)("div",ae,[(0,n.Wm)(i)])])}var le=(0,n.aZ)({name:"CardsView"});const ne=(0,i.Z)(le,[["render",te],["__scopeId","data-v-60cb17c0"]]);var de=ne;const oe=(0,n.Uk)("Create Card");function ie(e,a,t,l,d,o){const i=(0,n.up)("VButton"),c=(0,n.up)("CardsTable"),s=(0,n.up)("CardDetail"),r=(0,n.up)("CardUpdate");return(0,n.wg)(),(0,n.iD)("div",{class:(0,y.C_)(["cards-list",{loading:e.isLoading}])},[(0,n.Wm)(i,{class:"cards-list__btn",onClick:a[0]||(a[0]=a=>e.$router.push("/cards/create"))},{default:(0,n.w5)((()=>[oe])),_:1}),e.getCards.length?((0,n.wg)(),(0,n.j4)(c,{key:0,onGetCard:e.getDetail,onUpdateCard:e.updateCard,cards:e.getCards},null,8,["onGetCard","onUpdateCard","cards"])):(0,n.kq)("",!0),e.showDetail?((0,n.wg)(),(0,n.j4)(s,{key:1,card:e.cardInfo,onClose:a[1]||(a[1]=a=>e.close("showDetail"))},null,8,["card"])):(0,n.kq)("",!0),e.showUpdate?((0,n.wg)(),(0,n.j4)(r,{key:2,onClose:a[2]||(a[2]=a=>e.close("showUpdate")),id:e.updateCardId},null,8,["id"])):(0,n.kq)("",!0)],2)}const ce=e=>((0,n.dD)("data-v-628a172c"),e=e(),(0,n.Cn)(),e),se={class:"mdc-data-table",ref:"table"},re={class:"mdc-data-table__table-container"},ue={class:"mdc-data-table__table","aria-label":"Dessert calories"},me=ce((()=>(0,n._)("thead",null,[(0,n._)("tr",{class:"mdc-data-table__header-row"},[(0,n._)("th",{class:"mdc-data-table__header-cell mdc-data-table__header-cell--checkbox",role:"columnheader",scope:"col"},[(0,n._)("div",{class:"mdc-checkbox mdc-data-table__header-row-checkbox mdc-checkbox--selected"},[(0,n._)("input",{type:"checkbox",class:"mdc-checkbox__native-control","aria-label":"Toggle all rows"}),(0,n._)("div",{class:"mdc-checkbox__background"},[(0,n._)("svg",{class:"mdc-checkbox__checkmark",viewBox:"0 0 24 24"},[(0,n._)("path",{class:"mdc-checkbox__checkmark-path",fill:"none",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})]),(0,n._)("div",{class:"mdc-checkbox__mixedmark"})]),(0,n._)("div",{class:"mdc-checkbox__ripple"})])]),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Card Number"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Created at"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Status"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Brand"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Form Factor"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"})])],-1))),_e={class:"mdc-data-table__content"},pe=["data-row-id"],he={class:"mdc-data-table__cell mdc-data-table__cell--checkbox"},ve={class:"mdc-checkbox mdc-data-table__row-checkbox"},be=["aria-labelledby"],fe=(0,n.uE)('<div class="mdc-checkbox__background" data-v-628a172c><svg class="mdc-checkbox__checkmark" viewBox="0 0 24 24" data-v-628a172c><path class="mdc-checkbox__checkmark-path" fill="none" d="M1.73,12.91 8.1,19.28 22.79,4.59" data-v-628a172c></path></svg><div class="mdc-checkbox__mixedmark" data-v-628a172c></div></div><div class="mdc-checkbox__ripple" data-v-628a172c></div>',2),ge=["id","onClick"],we={class:"mdc-data-table__cell"},Ce={class:"mdc-data-table__cell"},ye={class:"mdc-data-table__cell"},ke={class:"mdc-data-table__cell"},Ve={class:"mdc-data-table__cell"},De=(0,n.Uk)("update");function xe(e,a,t,l,d,o){const i=(0,n.up)("VButton");return(0,n.wg)(),(0,n.iD)("div",se,[(0,n._)("div",re,[(0,n._)("table",ue,[me,(0,n._)("tbody",_e,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.cards,((a,t)=>((0,n.wg)(),(0,n.iD)("tr",{"data-row-id":"u"+t,class:"mdc-data-table__row",key:a.card_id},[(0,n._)("td",he,[(0,n._)("div",ve,[(0,n._)("input",{type:"checkbox",class:"mdc-checkbox__native-control","aria-labelledby":"u"+t},null,8,be),fe])]),(0,n._)("th",{class:"mdc-data-table__cell mask_number",scope:"row",id:"u"+t,onClick:t=>e.$emit("getCard",a.card_id)},(0,y.zw)(e.formatCardNumber(a.mask_number)),9,ge),(0,n._)("td",we,(0,y.zw)(new Date(a.created_at).toLocaleDateString()),1),(0,n._)("td",Ce,(0,y.zw)(a.status),1),(0,n._)("td",ye,(0,y.zw)(a.brand),1),(0,n._)("td",ke,(0,y.zw)(a.form_factor),1),(0,n._)("td",Ve,[(0,n.Wm)(i,{onClick:t=>e.$emit("updateCard",a.card_id)},{default:(0,n.w5)((()=>[De])),_:2},1032,["onClick"])])],8,pe)))),128))])])])],512)}var Ue=t(9990),Ie=t(3508);const Se=e=>{const a=[];for(let t=1;t<=16;t+=4)a.push(e.slice(t-1,t+3));return a.join(" ")},We={timeout:3e3,type:"danger",position:"bottom-center",showIcon:!0,transition:"slide"},Ze={500:()=>(0,Ie.Yz)("Internal Server Error",We),403:e=>(0,Ie.Yz)({title:"Error",description:e.detail},We),404:e=>(0,Ie.Yz)({title:"Error",description:e.detail},We)};var ze=(0,n.aZ)({name:"CardsTable",props:["cards"],methods:{formatCardNumber:Se},mounted(){new Ue.T(this.$refs.table)}});const $e=(0,i.Z)(ze,[["render",xe],["__scopeId","data-v-628a172c"]]);var Be=$e;const Le=e=>((0,n.dD)("data-v-2e9e5fd0"),e=e(),(0,n.Cn)(),e),Ee={class:"mdc-dialog",ref:"dialog"},Te={class:"mdc-dialog__container"},Ae={class:"mdc-dialog__surface",role:"alertdialog","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},Ne=Le((()=>(0,n._)("h2",{class:"mdc-dialog__title",id:"my-dialog-title"},"Card Information",-1))),Me={class:"mdc-dialog__content",id:"my-dialog-content"},Oe={class:"mdc-dialog__actions"},qe=(0,n.Uk)("Close"),je=Le((()=>(0,n._)("div",{class:"mdc-dialog__scrim"},null,-1)));function He(e,a,t,l,d,o){const i=(0,n.up)("VButton");return(0,n.wg)(),(0,n.iD)("div",Ee,[(0,n._)("div",Te,[(0,n._)("div",Ae,[Ne,(0,n._)("div",Me,[(0,n._)("p",null,"Card Number: "+(0,y.zw)(e.formatCardNumber(e.card.card_number)),1),(0,n._)("p",null,"CVV: "+(0,y.zw)(e.card.cvv),1),(0,n._)("p",null,"expiration date: "+(0,y.zw)(`${e.card.expiry_month}/${e.card.expiry_year}`),1),(0,n._)("p",null,"Name on card: "+(0,y.zw)(e.card.name_on_card),1)]),(0,n._)("div",Oe,[(0,n.Wm)(i,{type:"button","data-mdc-dialog-action":"close"},{default:(0,n.w5)((()=>[qe])),_:1})])])]),je],512)}var Pe=t(119),Ye=(0,n.aZ)({name:"CardDetail",props:{card:Object},methods:{formatCardNumber:Se},mounted(){const e=new Pe.W(this.$refs.dialog);e.listen("MDCDialog:closed",(()=>{this.$emit("close")})),e.open()}});const Re=(0,i.Z)(Ye,[["render",He],["__scopeId","data-v-2e9e5fd0"]]);var Fe=Re;const Ke=e=>((0,n.dD)("data-v-3f6d9f98"),e=e(),(0,n.Cn)(),e),Ge={class:"mdc-dialog",ref:"dialog"},Je={class:"mdc-dialog__container"},Qe={class:"mdc-dialog__surface",role:"alertdialog","aria-modal":"true","aria-labelledby":"my-dialog-title","aria-describedby":"my-dialog-content"},Xe=Ke((()=>(0,n._)("h2",{class:"mdc-dialog__title",id:"my-dialog-title"},"Card Update",-1))),ea={class:"mdc-dialog__content",id:"my-dialog-content"},aa={class:"update-form"},ta={class:"update-form__btns"},la=(0,n.Uk)("Add limit"),na=(0,n.Uk)("Remove limit "),da={class:"mdc-dialog__actions"},oa=(0,n.Uk)("Cancel"),ia=(0,n.Uk)("Update"),ca=Ke((()=>(0,n._)("div",{class:"mdc-dialog__scrim"},null,-1)));function sa(e,a,t,d,o,i){const c=(0,n.up)("VInput"),s=(0,n.up)("VSelect"),r=(0,n.up)("VButton");return(0,n.wg)(),(0,n.iD)("div",Ge,[(0,n._)("div",Je,[(0,n._)("div",Qe,[Xe,(0,n._)("div",ea,[(0,n._)("div",aa,[(0,n.Wm)(c,{label:"Active from",type:"date",modelValue:e.active_from,"onUpdate:modelValue":a[0]||(a[0]=a=>e.active_from=a)},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Active to",type:"date",modelValue:e.active_to,"onUpdate:modelValue":a[1]||(a[1]=a=>e.active_to=a)},null,8,["modelValue"]),(0,n.Wm)(s,{label:"Allowed Transactions",modelValue:e.allowed_transactions_count,"onUpdate:modelValue":a[2]||(a[2]=a=>e.allowed_transactions_count=a),options:["single","multiple"]},null,8,["modelValue"]),(0,n.Wm)(s,{label:"Status",modelValue:e.status,"onUpdate:modelValue":a[3]||(a[3]=a=>e.status=a),options:["INACTIVE","ACTIVE","CLOSED"]},null,8,["modelValue"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.limits,((a,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"update-form__limits",key:t},[(0,n.Wm)(s,{label:"Limit interval",modelValue:a.interval,"onUpdate:modelValue":e=>a.interval=e,options:e.limitOptions,required:""},null,8,["modelValue","onUpdate:modelValue","options"]),(0,n.Wm)(c,{label:"Limit amout",modelValue:a.amount,"onUpdate:modelValue":e=>a.amount=e,modelModifiers:{number:!0},required:"",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])))),128)),(0,n._)("div",ta,[(0,n.Wm)(r,{onClick:e.addLimit,type:"button",icon:"add",text:""},{default:(0,n.w5)((()=>[la])),_:1},8,["onClick"]),(0,n.wy)((0,n.Wm)(r,{onClick:e.removeLimit,type:"button",icon:"delete",text:""},{default:(0,n.w5)((()=>[na])),_:1},8,["onClick"]),[[l.F8,e.limits.length]])])])]),(0,n._)("div",da,[(0,n.Wm)(r,{type:"button","data-mdc-dialog-action":"close"},{default:(0,n.w5)((()=>[oa])),_:1}),(0,n.Wm)(r,{type:"button",onClick:a[4]||(a[4]=a=>e.update()),style:{"margin-left":"20px"}},{default:(0,n.w5)((()=>[ia])),_:1})])])]),ca],512)}var ra=(0,n.aZ)({name:"CardUpdate",props:["id"],data:()=>({active_from:"",active_to:"",allowed_transactions_count:"multiple",limitOptions:["per transaction","daily","weekly","monthly","all time"],limits:[],status:"",dialog:{}}),methods:{formatCardNumber:Se,async update(){const e=await this.$store.dispatch("updateCard",{id:this.id,data:{...this.active_from&&{active_from:this.active_from},...this.active_to&&{active_to:this.active_to},...this.status&&{status:this.status},...this.limits.length&&{limits:this.limits},allowed_transactions_count:this.allowed_transactions_count}});e&&this.dialog.close()},addLimit(){this.limits.push({interval:"per transaction",amount:1e3})},removeLimit(){this.limits.pop()}},mounted(){const e=new Pe.W(this.$refs.dialog);this.dialog=e,e.listen("MDCDialog:closed",(()=>{this.$emit("close")})),e.open()}});const ua=(0,i.Z)(ra,[["render",sa],["__scopeId","data-v-3f6d9f98"]]);var ma=ua,_a=(0,n.aZ)({name:"CardsList",data:()=>({showDetail:!1,showUpdate:!1,updateCardId:"",cardInfo:{},isLoading:!1}),components:{CardsTable:Be,CardDetail:Fe,CardUpdate:ma},computed:{...(0,L.Se)(["getCards"])},methods:{async getDetail(e){this.isLoading=!0;const a=await this.$store.dispatch("getCardDetail",e);a&&(this.cardInfo=a,this.showDetail=!0,this.isLoading=!1)},close(e){this[e]=!1},updateCard(e){this.updateCardId=e,this.showUpdate=!0}},async created(){await this.$store.dispatch("getCards")}});const pa=(0,i.Z)(_a,[["render",ie],["__scopeId","data-v-7720244f"]]);var ha=pa;const va=e=>((0,n.dD)("data-v-64d3df2c"),e=e(),(0,n.Cn)(),e),ba={class:"card-create"},fa=va((()=>(0,n._)("h2",null,"Create Card",-1))),ga={class:"card-create__form__btns"},wa=(0,n.Uk)("Add limit"),Ca=(0,n.Uk)("Remove limit"),ya=(0,n.Uk)("Create");function ka(e,a,t,d,o,i){const c=(0,n.up)("VInput"),s=(0,n.up)("VSelect"),r=(0,n.up)("VButton");return(0,n.wg)(),(0,n.iD)("div",ba,[fa,(0,n._)("form",{class:"card-create__form",onSubmit:a[4]||(a[4]=(0,l.iM)(((...a)=>e.onSubmit&&e.onSubmit(...a)),["prevent"]))},[(0,n.Wm)(c,{label:"Cardholder ID",required:"",modelValue:e.cardholder_id,"onUpdate:modelValue":a[0]||(a[0]=a=>e.cardholder_id=a)},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Active from",type:"date",modelValue:e.active_from,"onUpdate:modelValue":a[1]||(a[1]=a=>e.active_from=a)},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Active to",type:"date",modelValue:e.active_to,"onUpdate:modelValue":a[2]||(a[2]=a=>e.active_to=a)},null,8,["modelValue"]),(0,n.Wm)(s,{label:"Allowed Transactions",modelValue:e.allowed_transactions_count,"onUpdate:modelValue":a[3]||(a[3]=a=>e.allowed_transactions_count=a),options:["single","multiple"]},null,8,["modelValue"]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.limits,((a,t)=>((0,n.wg)(),(0,n.iD)("div",{class:"card-create__form__limits",key:t},[(0,n.Wm)(s,{label:"Limit interval",modelValue:a.interval,"onUpdate:modelValue":e=>a.interval=e,options:e.limitOptions,required:""},null,8,["modelValue","onUpdate:modelValue","options"]),(0,n.Wm)(c,{label:"Limit amout",modelValue:a.amount,"onUpdate:modelValue":e=>a.amount=e,modelModifiers:{number:!0},required:"",type:"number"},null,8,["modelValue","onUpdate:modelValue"])])))),128)),(0,n._)("div",ga,[(0,n.Wm)(r,{onClick:e.addLimit,type:"button",icon:"add",text:""},{default:(0,n.w5)((()=>[wa])),_:1},8,["onClick"]),(0,n.wy)((0,n.Wm)(r,{onClick:e.removeLimit,type:"button",icon:"delete",text:""},{default:(0,n.w5)((()=>[Ca])),_:1},8,["onClick"]),[[l.F8,e.limits.length]])]),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[ya])),_:1})],32)])}var Va=(0,n.aZ)({name:"UserCreate",data:()=>({cardholder_id:"",active_from:"",active_to:"",allowed_transactions_count:"multiple",limitOptions:["per transaction","daily","weekly","monthly","all time"],limits:[]}),methods:{async onSubmit(e){const a=await this.$store.dispatch("createCard",{cardholder_id:this.cardholder_id,settings:{active_from:this.active_from,active_to:this.active_to,allowed_transactions_count:this.allowed_transactions_count,limits:this.limits}});a&&this.$router.push("/cards"),e.target.reset()},addLimit(){this.limits.push({interval:"per transaction",amount:1e3})},removeLimit(){this.limits.pop()}}});const Da=(0,i.Z)(Va,[["render",ka],["__scopeId","data-v-64d3df2c"]]);var xa=Da;const Ua={class:"users"},Ia={class:"users__content"};function Sa(e,a,t,l,d,o){const i=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)("div",Ua,[(0,n._)("h1",null,(0,y.zw)(e.$route.meta.label),1),(0,n._)("div",Ia,[(0,n.Wm)(i)])])}var Wa=(0,n.aZ)({name:"Users"});const Za=(0,i.Z)(Wa,[["render",Sa],["__scopeId","data-v-ec424e40"]]);var za=Za;const $a={class:"users-list"},Ba=(0,n.Uk)("Create User");function La(e,a,t,l,d,o){const i=(0,n.up)("VButton"),c=(0,n.up)("UsersTable");return(0,n.wg)(),(0,n.iD)("div",$a,[(0,n.Wm)(i,{class:"users-list__btn",onClick:a[0]||(a[0]=a=>e.$router.push("/users/create"))},{default:(0,n.w5)((()=>[Ba])),_:1}),(0,n.Wm)(c)])}const Ea=e=>((0,n.dD)("data-v-48e7e898"),e=e(),(0,n.Cn)(),e),Ta={class:"mdc-data-table"},Aa={class:"mdc-data-table__table-container"},Na={class:"mdc-data-table__table","aria-label":"Dessert calories"},Ma=Ea((()=>(0,n._)("thead",null,[(0,n._)("tr",{class:"mdc-data-table__header-row"},[(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Cardholder ID"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Full name"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Type"),(0,n._)("th",{class:"mdc-data-table__header-cell mdc-data-table__header-cell--numeric",role:"columnheader",scope:"col"},"Phone number"),(0,n._)("th",{class:"mdc-data-table__header-cell",role:"columnheader",scope:"col"},"Date of birth")])],-1))),Oa={class:"mdc-data-table__content"},qa={class:"mdc-data-table__cell",scope:"row"},ja={class:"mdc-data-table__cell"},Ha={class:"mdc-data-table__cell"},Pa={class:"mdc-data-table__cell mdc-data-table__cell--numeric"},Ya={class:"mdc-data-table__cell"};function Ra(e,a,t,l,d,o){return(0,n.wg)(),(0,n.iD)("div",Ta,[(0,n._)("div",Aa,[(0,n._)("table",Na,[Ma,(0,n._)("tbody",Oa,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.getCardholders,(e=>((0,n.wg)(),(0,n.iD)("tr",{class:"mdc-data-table__row",key:e.user.id},[(0,n._)("th",qa,(0,y.zw)(e.cardholder_id),1),(0,n._)("td",ja,(0,y.zw)(`${e.user.account.first_name} ${e.user.account.last_name}`),1),(0,n._)("td",Ha,(0,y.zw)(e.user.account.type),1),(0,n._)("td",Pa,(0,y.zw)(e.user.account.phone),1),(0,n._)("td",Ya,(0,y.zw)(e.user.account.date_of_birth),1)])))),128))])])])])}var Fa=(0,n.aZ)({computed:{...(0,L.Se)(["getCardholders"])},async created(){await this.$store.dispatch("getCardholders")}});const Ka=(0,i.Z)(Fa,[["render",Ra],["__scopeId","data-v-48e7e898"]]);var Ga=Ka,Ja=(0,n.aZ)({name:"UsersList",components:{UsersTable:Ga}});const Qa=(0,i.Z)(Ja,[["render",La],["__scopeId","data-v-627dd398"]]);var Xa=Qa;const et=e=>((0,n.dD)("data-v-0b8189ae"),e=e(),(0,n.Cn)(),e),at={class:"cardholder-create"},tt=et((()=>(0,n._)("h2",null,"Create User",-1))),lt=(0,n.Uk)("Create");function nt(e,a,t,d,o,i){const c=(0,n.up)("VInput"),s=(0,n.up)("VButton");return(0,n.wg)(),(0,n.iD)("div",at,[tt,(0,n._)("form",{class:"cardholder-create__form",onSubmit:a[6]||(a[6]=(0,l.iM)(((...a)=>e.onSubmit&&e.onSubmit(...a)),["prevent"]))},[(0,n.Wm)(c,{label:"Email",required:"",modelValue:e.email,"onUpdate:modelValue":a[0]||(a[0]=a=>e.email=a),type:"email"},null,8,["modelValue"]),(0,n.Wm)(c,{label:"First Name",required:"",modelValue:e.first_name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.first_name=a)},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Middle Name",modelValue:e.middle_name,"onUpdate:modelValue":a[2]||(a[2]=a=>e.middle_name=a)},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Last Name",required:"",modelValue:e.last_name,"onUpdate:modelValue":a[3]||(a[3]=a=>e.last_name=a)},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Date Of Birth",required:"",type:"date",modelValue:e.date_of_birth,"onUpdate:modelValue":a[4]||(a[4]=a=>e.date_of_birth=a)},null,8,["modelValue"]),(0,n.Wm)(c,{label:"Phone",required:"",modelValue:e.phone,"onUpdate:modelValue":a[5]||(a[5]=a=>e.phone=a)},null,8,["modelValue"]),(0,n.Wm)(s,null,{default:(0,n.w5)((()=>[lt])),_:1})],32)])}var dt=(0,n.aZ)({name:"UserCreate",data:()=>({email:"",first_name:"",middle_name:"",last_name:"",date_of_birth:"",phone:""}),methods:{async onSubmit(e){const a=await this.$store.dispatch("createUser",{email:this.email,first_name:this.first_name,middle_name:this.middle_name,last_name:this.last_name,date_of_birth:this.date_of_birth,phone:this.phone});a&&e.target.reset()}}});const ot=(0,i.Z)(dt,[["render",nt],["__scopeId","data-v-0b8189ae"]]);var it=ot;const ct=[{path:"/",name:"Home",component:v,children:[{path:"/",name:"Main",meta:{label:"Main",icon:"dashboard"},component:A},{path:"/profile",name:"Profile",meta:{label:"Profile",icon:"person"},component:X},{path:"/cards",name:"Cards",meta:{label:"Cards",icon:"credit_card"},component:de,children:[{path:"",name:"CardsList",component:ha},{path:"create",name:"CardCreate",component:xa}]},{path:"/users",name:"Users",meta:{label:"Users",icon:"groups"},component:za,children:[{path:"",name:"UsersList",component:Xa},{path:"create",name:"UserCreate",component:it}]}]},{path:"/auth",name:"AuthView",component:C},{path:"/:pathMatch(.*)*",redirect:"/"}],st=(0,r.p7)({history:(0,r.PO)("/spenxy-front/"),routes:ct});var rt=st,ut=t(6265),mt=t.n(ut),_t=(0,L.MT)({state:{client:{},clientBalance:{},cardholders:[],cards:[]},getters:{getClient:({client:e})=>e,getClientBalance:({clientBalance:e})=>e,getCardholders:({cardholders:e})=>e,getCards:({cards:e})=>e},mutations:{SET_CLIENT(e,a){e.client=a},SET_CLIENT_BALANCE(e,a){e.clientBalance=a},SET_CARDHOLDERS(e,a){e.cardholders=a},SET_CARDS(e,a){e.cards=a},UPDATE_CARD(e,a){const t=e.cards.findIndex((e=>e.card_id===a.card_id));e.cards.splice(t,1,a)}},actions:{async axios({},{url:e,method:a="get",data:t,auth:l=!0,headers:n}){try{const d=l?{authorization:`Bearer ${localStorage.getItem("token")}`}:n,o=await mt()({method:a,data:t,headers:d,url:"https://api.demo.spenxy.com/api/v1/"+e});return console.log("res",o.data),o.data}catch(d){return console.log("Error",d),Ze[d.response.status](d.response.data),!1}},async login({dispatch:e},a){const t=await e("axios",{url:"authentication/login",method:"post",headers:{"x-api-key":a.api_key,"x-client-id":a.client_id},auth:!1});return!!t&&(localStorage.setItem("token",t.access_token),!0)},async getClient({commit:e,dispatch:a}){const t=await a("axios",{url:"authentication/login/test-token",method:"post"});if(t)return e("SET_CLIENT",t),!0;localStorage.removeItem("token")},async getClientBalance({commit:e,dispatch:a}){const t=await a("axios",{url:"company/balance"});t&&e("SET_CLIENT_BALANCE",t)},async getCardholders({commit:e,dispatch:a}){const t=await a("axios",{url:"cardholder/get/all"});t&&e("SET_CARDHOLDERS",t)},async getCards({commit:e,dispatch:a}){const t=await a("axios",{url:"cards/cards/all"});t&&e("SET_CARDS",t)},async createUser({dispatch:e},a){const t=await e("axios",{url:"cardholder/create",method:"post",data:a});return!!t},async createCard({dispatch:e},a){const t=await e("axios",{url:"cards/card/create",method:"post",data:a});return!!t},async getCardDetail({dispatch:e},a){return await e("axios",{url:"cards/cards/detail/sensitive?card_id="+a})},async updateCard({commit:e,dispatch:a},{id:t,data:l}){const n=await a("axios",{url:"cards/card/update?card_id="+t,method:"put",data:l});return!!n&&(e("UPDATE_CARD",n),!0)}},modules:{}});const pt=e=>((0,n.dD)("data-v-4c7ae2fd"),e=e(),(0,n.Cn)(),e),ht=pt((()=>(0,n._)("span",{class:"mdc-button__ripple"},null,-1))),vt={class:"mdc-button__label"};function bt(e,a,t,d,o,i){return(0,n.wg)(),(0,n.iD)("button",{class:(0,y.C_)(["mdc-button",{"mdc-button--raised":!e.text}]),ref:"btn"},[ht,(0,n.wy)((0,n._)("i",{class:"material-icons mdc-button__icon","aria-hidden":"true"},(0,y.zw)(e.icon),513),[[l.F8,!!e.icon]]),(0,n._)("span",vt,[(0,n.WI)(e.$slots,"default",{},void 0,!0)])],2)}var ft=t(2618),gt=(0,n.aZ)({name:"VButton",props:{icon:String,text:{type:Boolean}},mounted(){new ft.F(this.$refs.btn)}});const wt=(0,i.Z)(gt,[["render",bt],["__scopeId","data-v-4c7ae2fd"]]);var Ct=wt;const yt={class:"header"},kt=(0,n.Uk)("Balance: "),Vt=(0,n.Uk)("Logout");function Dt(e,a,t,l,d,o){const i=(0,n.up)("VButton");return(0,n.wg)(),(0,n.iD)("header",yt,[(0,n._)("span",null,[kt,(0,n._)("b",null,(0,y.zw)(e.getBalance),1)]),(0,n._)("span",null,(0,y.zw)(e.getClient.primary_contact_email),1),(0,n.Wm)(i,{icon:"logout",onClick:e.logout},{default:(0,n.w5)((()=>[Vt])),_:1},8,["onClick"])])}var xt=(0,n.aZ)({name:"VHeader",data:()=>({currencyMap:new Map([["USD","$"]])}),computed:{...(0,L.Se)(["getClient","getClientBalance"]),getBalance(){const{currency:e,available_amount:a}=this.getClientBalance;return this.currencyMap.get(e)+a||""}},methods:{logout(){localStorage.removeItem("token"),this.$router.push("/auth")}}});const Ut=(0,i.Z)(xt,[["render",Dt],["__scopeId","data-v-d6d111ce"]]);var It=Ut;const St=e=>((0,n.dD)("data-v-197772eb"),e=e(),(0,n.Cn)(),e),Wt={class:"mdc-drawer"},Zt={class:"mdc-drawer__content"},zt={class:"mdc-list"},$t=St((()=>(0,n._)("span",{class:"mdc-list-item__ripple"},null,-1))),Bt={class:"material-icons mdc-list-item__graphic","aria-hidden":"true"},Lt={class:"mdc-list-item__text"};function Et(e,a,t,l,d,o){const i=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("aside",Wt,[(0,n._)("div",Zt,[(0,n._)("nav",zt,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.routes,(e=>((0,n.wg)(),(0,n.j4)(i,{key:e.name,to:e.path,class:"mdc-list-item"},{default:(0,n.w5)((()=>[$t,(0,n._)("i",Bt,(0,y.zw)(e.meta.icon),1),(0,n._)("span",Lt,(0,y.zw)(e.meta.label),1)])),_:2},1032,["to"])))),128))])])])}var Tt=(0,n.aZ)({name:"VNav",computed:{routes(){return this.$router.options.routes[0].children||[]}}});const At=(0,i.Z)(Tt,[["render",Et],["__scopeId","data-v-197772eb"]]);var Nt=At;const Mt=e=>((0,n.dD)("data-v-55f0fe9a"),e=e(),(0,n.Cn)(),e),Ot={class:"mdc-text-field mdc-text-field--outlined",ref:"textfield"},qt={class:"mdc-notched-outline"},jt=Mt((()=>(0,n._)("span",{class:"mdc-notched-outline__leading"},null,-1))),Ht={class:"mdc-notched-outline__notch"},Pt={class:"mdc-floating-label",id:"my-label-id"},Yt=Mt((()=>(0,n._)("span",{class:"mdc-notched-outline__trailing"},null,-1))),Rt=["type","value"];function Ft(e,a,t,l,d,o){return(0,n.wg)(),(0,n.iD)("label",Ot,[(0,n._)("span",qt,[jt,(0,n._)("span",Ht,[(0,n._)("span",Pt,(0,y.zw)(e.label),1)]),Yt]),(0,n._)("input",{type:e.type,class:"mdc-text-field__input",value:e.modelValue,onClick:a[0]||(a[0]=e=>e.target.showPicker()),onInput:a[1]||(a[1]=a=>e.$emit("update:modelValue",a.target.value)),"aria-labelledby":"my-label-id"},null,40,Rt)],512)}var Kt=t(8233),Gt=(0,n.aZ)({name:"VInput",props:{label:{type:String,default:"Label"},required:{type:Boolean,default:!1},type:{type:String,default:"text"},pattern:{type:String,default:""},modelValue:[String,Number]},data:()=>({model:""}),mounted(){const e=new Kt.K(this.$refs.textfield);e.required=this.required}});const Jt=(0,i.Z)(Gt,[["render",Ft],["__scopeId","data-v-55f0fe9a"]]);var Qt=Jt;const Xt=e=>((0,n.dD)("data-v-3d959edc"),e=e(),(0,n.Cn)(),e),el={class:"wrapper"},al={class:"mdc-text-field mdc-text-field--outlined",ref:"textfield"},tl={class:"mdc-notched-outline"},ll=Xt((()=>(0,n._)("span",{class:"mdc-notched-outline__leading"},null,-1))),nl={class:"mdc-notched-outline__notch"},dl={class:"mdc-floating-label",id:"my-label-id"},ol=Xt((()=>(0,n._)("span",{class:"mdc-notched-outline__trailing"},null,-1))),il=["value","required"],cl=Xt((()=>(0,n._)("i",{class:"material-icons mdc-text-field__icon","aria-hidden":"true","data-v-fb975b06":""},"expand_more",-1))),sl={class:"mdc-menu mdc-menu-surface",ref:"menu"},rl={class:"mdc-list",role:"menu","aria-hidden":"true","aria-orientation":"vertical",tabindex:"-1"},ul=["onClick"],ml=Xt((()=>(0,n._)("span",{class:"mdc-list-item__ripple"},null,-1))),_l={class:"mdc-list-item__text"};function pl(e,a,t,d,o,i){return(0,n.wg)(),(0,n.iD)("div",el,[(0,n._)("label",al,[(0,n._)("span",tl,[ll,(0,n.wy)((0,n._)("span",nl,[(0,n._)("span",dl,(0,y.zw)(e.label),1)],512),[[l.F8,!!e.label]]),ol]),(0,n._)("input",{class:"mdc-text-field__input",value:e.modelValue,"aria-labelledby":"my-label-id",onClick:a[0]||(a[0]=(0,l.iM)((a=>e.menu.open=!0),["self"])),readonly:"",required:e.required},null,8,il),cl],512),(0,n._)("div",sl,[(0,n._)("ul",rl,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.options,(a=>((0,n.wg)(),(0,n.iD)("li",{class:"mdc-list-item",role:"menuitem",key:a,onClick:t=>e.$emit("update:modelValue",a)},[ml,(0,n._)("span",_l,(0,y.zw)(a),1)],8,ul)))),128))])],512)])}var hl=t(3134),vl=(0,n.aZ)({data:()=>({textfield:null,menu:null,select:""}),props:{label:String,options:{type:Array,default:[]},required:{type:Boolean,default:!1},modelValue:[String,Number]},mounted(){this.textfield=new Kt.K(this.$refs.textfield),this.menu=new hl.g(this.$refs.menu),this.textfield.required=this.required}});const bl=(0,i.Z)(vl,[["render",pl],["__scopeId","data-v-3d959edc"]]);var fl=bl;(0,l.ri)(s).use(_t).use(rt).component("VButton",Ct).component("VHeader",It).component("VNav",Nt).component("VInput",Qt).component("VSelect",fl).mount("#app")}},a={};function t(l){var n=a[l];if(void 0!==n)return n.exports;var d=a[l]={exports:{}};return e[l](d,d.exports,t),d.exports}t.m=e,function(){var e=[];t.O=function(a,l,n,d){if(!l){var o=1/0;for(r=0;r<e.length;r++){l=e[r][0],n=e[r][1],d=e[r][2];for(var i=!0,c=0;c<l.length;c++)(!1&d||o>=d)&&Object.keys(t.O).every((function(e){return t.O[e](l[c])}))?l.splice(c--,1):(i=!1,d<o&&(o=d));if(i){e.splice(r--,1);var s=n();void 0!==s&&(a=s)}}return a}d=d||0;for(var r=e.length;r>0&&e[r-1][2]>d;r--)e[r]=e[r-1];e[r]=[l,n,d]}}(),function(){t.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(a,{a:a}),a}}(),function(){t.d=function(e,a){for(var l in a)t.o(a,l)&&!t.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:a[l]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){var e={143:0};t.O.j=function(a){return 0===e[a]};var a=function(a,l){var n,d,o=l[0],i=l[1],c=l[2],s=0;if(o.some((function(a){return 0!==e[a]}))){for(n in i)t.o(i,n)&&(t.m[n]=i[n]);if(c)var r=c(t)}for(a&&a(l);s<o.length;s++)d=o[s],t.o(e,d)&&e[d]&&e[d][0](),e[d]=0;return t.O(r)},l=self["webpackChunkspenxy_front"]=self["webpackChunkspenxy_front"]||[];l.forEach(a.bind(null,0)),l.push=a.bind(null,l.push.bind(l))}();var l=t.O(void 0,[998],(function(){return t(2556)}));l=t.O(l)})();